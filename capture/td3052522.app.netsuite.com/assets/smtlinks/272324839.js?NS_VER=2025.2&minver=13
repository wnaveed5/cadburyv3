(function(h,k,l){var b=NS.Portlet.register("SmtLinksPortlet");b.initialize=function(){this.callClassMethod(b.superClassName,"initialize")};b.renderContent=function(){this.callClassMethod(b.superClassName,"renderContent");this.loadContent();this.getWebsiteFilter().on("change",function(){this.loadContent()}.bind(this))};b.loadContent=function(){var a=this.getWebsiteFilter();return this.requestContent("getDomains",{website:a.val()}).done(function(c){this.reloadWebsiteFilter(c);this.reloadDomains(c);
this.switchContentLoaderOff()}.bind(this))};b.reloadWebsiteFilter=function(a){var c=this.getFilterBar(),f=this.getWebsiteFilter();f.find("option").remove();a.websites&&0<a.websites.length?(a.websites.forEach(function(e){f.append('<option value="'+e.id+'"'+(e.id===a.selectedWebsite?' selected="true"':"")+">"+e.name+"</option>")}),c.show()):(c.hide(),this.showTileMessageText(a.message))};b.reloadDomains=function(a){var c=this.getDomainTable();c.find(".ns-smtlinks-table-row").remove();if(a.domains&&
0<a.domains.length){this.hideTileMessageText();var f=this.$content.find("#ns-smtlinks-table-row-template");a.domains.forEach(function(e,g){var d=f.clone();d.removeAttr("id");d.addClass("ns-smtlinks-table-row");d.addClass("uir-list-row-"+(g%2?"even":"odd"));d.find("span.ns-smtlinks-link-text").text(e.name);d.find("a.ns-smtlinks-link-preview").prop("href",e.previewUrl);d.find("a.ns-smtlinks-link-edit").prop("href",e.smtUrl);d.show();c.append(d)});c.show()}else c.hide(),this.showTileMessageText(a.message)};
b.getDomainTable=function(){return this.$content.find("#ns-smtlinks-table")};b.getFilterBar=function(){return this.$content.find(".portletFilterBar")};b.getTileMessage=function(){return this.$content.find("#ns-smtlinks-tile-message")};b.getWebsiteFilter=function(){return this.$content.find("#ns-smtlink-view-filter")};b.hideTileMessageText=function(){this.getTileMessage().hide()};b.showTileMessageText=function(a){var c=this.getTileMessage();c.find("h2").text(a);c.show()}})(this,NS.jQuery);
//# sourceMappingURL=/assets/smtlinks/272324839.map