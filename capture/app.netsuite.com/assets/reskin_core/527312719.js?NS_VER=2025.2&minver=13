function showAlertBox(c,e,g,m,n,a,b){const t=NS.jQuery;t(document).ready(function(){0===t("#div__alert").length&&t("div#body, div#innerwrapper").prepend('<div id="div__alert"></div>');var d=uir_getAlertBoxHtml(e,g,m,n,a,b);d=t(d).addClass(c);const h=getAlertBox(c);h&&h.innerHTML===d.html()?replaceAlertBox(h,d.get(0)):(d.hide(),d.appendTo("#div__alert"),d.fadeIn("slow"));t(window).trigger("resize")})}function getAlertBox(c){return NS.jQuery("#div__alert").find("."+c).get(0)}
function replaceAlertBox(c,e){var g=NS.jQuery(e);e=g.html();g=g.attr("class");NS.jQuery(c).fadeTo(100,.5).html(e).attr("class",g).fadeTo(200,1)}function hideAlertBox(c){var e=NS.jQuery(getAlertBox(c));e.fadeOut("slow",function(){e.remove();NS.jQuery(window).trigger("resize")})}ns_tabUtils.isEmpty=function(c){var e=!1;NS.jQuery("#"+c+"_form").find(".uir-field > span").each(function(){"none"!==NS.jQuery(this).css("display")&&(e=!0)});0<NS.jQuery("#"+c+"_div").find(".subtabblock").length&&(e=!0);return!e};var NS=window.NS||{};window.NS=NS;NS.UI=NS.UI||{};NS.UI.Helpers=NS.UI.Helpers||{};NS.UI.Refresh={};
NS.UI.Constants={TOOLBAR_APPEAR_TIMEOUT:150,TOOLBAR_APPEAR_ANIMATION:500,TOOLBAR_ORIGIN_TOP:0,TOOLTIP_ARROW_HEIGHT:10,TOOLTIP_ALIGN:{TOP_LEFT:0,TOP_RIGHT:1,BOTTOM_LEFT:2,BOTTOM_RIGHT:3,CENTER_SCREEN:4},TOOLTIP_ALIGN_DEFAULT:1,LOADER_DEFAULT_SIZE:128,GLOBALSEARCH_DELAY:700,GLOBALSEARCH_MAX_ITEMS:10,GLOBALSEARCH_BUTTONAREA_WIDTH:50,MENU_ITEM_HEIGHT:40,MENU_SHADOW_SIZE:3,MENU_SCROLL_SPEED_MAX:800,MENU_OPEN_TIMEOUT:300,MENU_HOVER_TIMEOUT:200,MENU_CLOSE_TIMEOUT:400,KeyCode:{BACKSPACE:8,TAB:9,ENTER:13,
SHIFT:16,CTRL:17,ALT:18,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,INSERT:45,DELETE:46,NUMBER_0:48,NUMBER_9:57,A:65,Z:90,NUMPAD_0:96,NUMPAD_9:105,forChar:function(c){return c.charCodeAt(0)}}};NS.UI.Refresh.moveLabel=function(c,e){var g=NS.jQuery("#"+c+"_lbl");NS.jQuery("#"+e).closest(".uir-field-wrapper").children(".uir-label").each(function(){var m=NS.jQuery(this);m.removeClass("uir-label-empty");g.show();m.html(g)})};
NS.UI.Helpers.uir_loader=function(c,e){var g=[16,32,64,128];e&&-1!=g.indexOf(e)||(e=0);var m=NS.jQuery(c),n=m.attr("style");c=m.height();var a=m.width();if(0==e){e=g[0];for(var b=Math.min(a,c),t=0;t<g.length;t++)if(g[t]<=b)e=g[t];else break}m.css({height:c,width:a}).addClass("uir-loader").addClass("loading-"+e.toString());NS.jQuery('<div class="loader"></div>').css("top",c/2-e/2).appendTo(m);this.close=function(){m.attr("style",n).removeClass("uir-loader").removeClass("loading-"+e.toString());m.find(".loader").remove()}};
NS.UI.Helpers.preventDefault=function(c){c=c||window.event;c.preventDefault&&c.preventDefault();c.returnValue=!1};NS.UI.Helpers.scrollbarWidth=function(){var c=document.createElement("div");c.style.width="100px";c.style.height="100px";c.style.overflow="scroll";document.body.appendChild(c);var e=c.offsetWidth-c.clientWidth;document.body.removeChild(c);NS.UI.Helpers.scrollbarWidth=function(){return e};return NS.UI.Helpers.scrollbarWidth()};
NS.UI.Helpers.getClosestAncestorFromClass=function(c,e){var g=null;if(c){for(;-1==c.className.indexOf(e)&&c!=document.body;)c=c.parentElement;-1<c.className.indexOf(e)&&(g=c)}return g};NS.UI.Helpers.Accessibility=NS.UI.Helpers.Accessibility||{};NS.UI.Helpers.Accessibility.doClickOnSpaceKey=function(c){NS.jQuery(c).keydown(function(e){e.which===NS.UI.Constants.KeyCode.SPACE&&(NS.jQuery(this).click(),e.preventDefault())})};NS.Device=NS.Device||{};
NS.Device.hasTouchSupport="ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints;NS.Device.hasPointerEnabled=window.navigator.pointerEnabled||window.navigator.msPointerEnabled;var ua=navigator.userAgent;NS.Device.isIOS=/iPad/i.test(ua)||/iPhone/i.test(ua);NS.Device.hasTouchSupport&&NS.jQuery(function(){NS.jQuery(document.body).addClass("uir-touch-support")});NS.Device.isIOS&&NS.jQuery("html").css({cursor:"pointer","-webkit-tap-highlight-color":"rgba(0,0,0,0)"});
(function(c){var e=!1;c.UI.ready=function(g){if(e)setTimeout(g,0);else{var m=!1,n=function(){m||(m=e=!0,g())};c.jQuery(document).ready(n);c.jQuery(window).on("load",n)}}})(NS);NS.jQuery(document).ready(function(){const c=document.body.getAttribute("data-page-category");"list"===c||"dashboard"===c?NS.UI.List.initialize():"form"===c&&NS.UI.Form.initialize()});function uir_tooltip(c,e,g){function m(l){l.target.contains(b[0])&&!k&&(window.requestAnimationFrame(function(){f.updateAlignment();f.positionTooltip();k=!1}),k=!0)}function n(){return p?NS.UI.Constants.TOOLTIP_ARROW_HEIGHT:0}function a(l,w,x){x={top:0,left:0};var A=w.offset(),v=NS.jQuery(window),E=v.scrollTop(),B=v.scrollLeft();A=l==NS.UI.Constants.TOOLTIP_ALIGN.CENTER_SCREEN?null:{top:Math.min(Math.max(E-w.outerHeight(),A.top),E+v.height()),left:Math.min(Math.max(B,A.left),B+v.width())};v=q;v.is(":visible")?
v=v.offsetParent():(v=v.closest(":visible"),v=-1==NS.jQuery.inArray(v.css("position"),["fixed","absolute","relative"])?v.offsetParent():v);v="HTML"!==v.prop("tagName")?v:NS.jQuery(document.body);E=v.offset();E.top-=v.scrollTop();E.left-=v.scrollLeft();switch(l){case NS.UI.Constants.TOOLTIP_ALIGN.TOP_RIGHT:x={top:A.top-E.top+w.outerHeight()+n(),left:A.left-E.left+w.outerWidth()-q.outerWidth()};var z="align_top_right";break;case NS.UI.Constants.TOOLTIP_ALIGN.TOP_LEFT:x={top:A.top-E.top+w.outerHeight()+
n(),left:A.left-E.left};z="align_top_left";break;case NS.UI.Constants.TOOLTIP_ALIGN.BOTTOM_LEFT:x={top:A.top-E.top-q.outerHeight()-n(),left:A.left-E.left};z="align_bottom_left";break;case NS.UI.Constants.TOOLTIP_ALIGN.BOTTOM_RIGHT:x={top:A.top-E.top-q.outerHeight()-n(),left:A.left-E.left+w.outerWidth()-q.outerWidth()};z="align_bottom_right";break;case NS.UI.Constants.TOOLTIP_ALIGN.CENTER_SCREEN:x={top:Math.max(5,(window.innerHeight-q.outerHeight())/2)+getWindowPageYOffset()-E.top,left:Math.max(5,
(window.innerWidth-q.outerWidth())/2)+getWindowPageXOffset()-E.left},z="align_center_screen"}0>x.top+E.top&&(x.top=0);0>x.left+E.left&&(x.left=0);return{cssStyles:x,cssClass:z}}var b=NS.jQuery(c);e=NS.jQuery(e);g=g||{};var t=g.hasOwnProperty("width")?g.width:null;var d=g.hasOwnProperty("minWidth")?g.minWidth:null;var h=g.hasOwnProperty("alignment")?g.alignment:NS.UI.Constants.TOOLTIP_ALIGN_DEFAULT;var p=g.hasOwnProperty("showArrow")?g.showArrow:!1;var r=g.hasOwnProperty("forceAlignment")?g.forceAlignment:
!1;var u=g.hasOwnProperty("doNotReparent")?g.doNotReparent:!1;var y=g.hasOwnProperty("removeScriptTags")?g.removeScriptTags:!0;var C=null;this._getAlignmentStyleDefinition=g.hasOwnProperty("alignmentDefinitionFunction")&&null!==g.alignmentDefinitionFunction?g.alignmentDefinitionFunction:a;C=g.hasOwnProperty("destination")?NS.jQuery(g.destination):NS.jQuery("body");var F=p?"arrow":"uir-cover",H=e.parent().get(0);var q=NS.jQuery('<div class="uir-tooltip"><span class="'+F+'"><i></i></span><div class="uir-tooltip-content"></div></div>');
q.css("z-index",function(){let l=1050;for(const w of document.querySelectorAll('[data-widget="Modal"]')){const x=parseInt(w.style.zIndex);!Number.isNaN(x)&&x>l&&(l=x)}return l+1}());q.data("uir-tooltip",this);q.click(function(l){l.stopPropagation()});this._loader=null;this._target=c;this._content=e.get(0);this._originalParent=H;this._tooltipWrap=q.get(0);this._options=g;this._content||console.warn("Tooltip content missing");y&&e.find("script").remove();q.css("display","none");C.append(q);e.css("display",
"block");q.find(".uir-tooltip-content").append(e);null!=t&&q.outerWidth(t);null!=d&&q.css("min-width",d);this._alignment=0;this.updateAlignment=function(){if(r)this._alignment=h;else if(0<b.length){var l=getWindowPageXOffset(),w=getWindowPageYOffset(),x=h,A=q.height()+n()<b.offset().top-w;w=q.height()+n()+(b.offset().top-w)+b.height()<window.innerHeight;var v=b.offset().left-l+q.width()<window.innerWidth;l=q.width()<b.offset().left-l+b.width();switch(h){case NS.UI.Constants.TOOLTIP_ALIGN.TOP_RIGHT:w&&
l?x=h:!w&&!l&&A&&v?x=NS.UI.Constants.TOOLTIP_ALIGN.BOTTOM_LEFT:!l&&v?x=NS.UI.Constants.TOOLTIP_ALIGN.TOP_LEFT:!w&&A&&(x=NS.UI.Constants.TOOLTIP_ALIGN.BOTTOM_RIGHT);break;case NS.UI.Constants.TOOLTIP_ALIGN.TOP_LEFT:w&&v?x=h:!w&&!v&&A&&l?x=NS.UI.Constants.TOOLTIP_ALIGN.BOTTOM_RIGHT:!v&&l?x=NS.UI.Constants.TOOLTIP_ALIGN.TOP_RIGHT:!w&&A&&(x=NS.UI.Constants.TOOLTIP_ALIGN.BOTTOM_LEFT);break;case NS.UI.Constants.TOOLTIP_ALIGN.BOTTOM_LEFT:A&&v?x=h:!A&&!v&&w&&l?x=NS.UI.Constants.TOOLTIP_ALIGN.TOP_RIGHT:!v&&
l?x=NS.UI.Constants.TOOLTIP_ALIGN.BOTTOM_RIGHT:!A&&w&&(x=NS.UI.Constants.TOOLTIP_ALIGN.TOP_LEFT);break;case NS.UI.Constants.TOOLTIP_ALIGN.BOTTOM_RIGHT:A&&l?x=h:!A&&!l&&w&&v?x=NS.UI.Constants.TOOLTIP_ALIGN.TOP_LEFT:!l&&v?x=NS.UI.Constants.TOOLTIP_ALIGN.BOTTOM_LEFT:!A&&w&&(x=NS.UI.Constants.TOOLTIP_ALIGN.TOP_RIGHT)}this._alignment=x}else this._alignment=NS.UI.Constants.TOOLTIP_ALIGN.CENTER_SCREEN};this.updateAlignment();this.positionTooltip=function(){var l=this._getAlignmentStyleDefinition(this._alignment,
b,C);q.css(l.cssStyles);q.addClass(l.cssClass);q.css("display","")};this.positionTooltip();this.isInsideTooltip=function(l){if(q){if(0<q.find(l.target).length)return!0;var w=l.pageX,x=l.pageY,A=q.offset();A.width=q.outerWidth();A.height=q.outerHeight();return A.left<=w&&w<=A.left+A.width&&A.top<=x&&x<=A.top+A.height?!0:this._childTooltips.some(function(v){return v.isInsideTooltip(l)},this)}return!1};this._parentTooltip=null;this._childTooltips=[];this._registerChildTooltip=function(l){this._childTooltips.push(l);
l._parentTooltip=this};this._unregisterChildTooltip=function(l){l=this._childTooltips.indexOf(l);-1<l&&(this._childTooltips[l]._parentTooltip=null,this._childTooltips.splice(l,1))};c=b.closest(".uir-tooltip");0<c.length&&c.data("uir-tooltip")._registerChildTooltip(this);var f=this,k=!1;document.addEventListener("scroll",m,!0);this.getTooltipDiv=function(){return this._tooltipWrap};this.close=function(){document.removeEventListener("scroll",m,!0);this._tooltipWrap&&(this._childTooltips.forEach(function(l){l.close()}),
this._parentTooltip&&this._parentTooltip._unregisterChildTooltip(this),this._content&&null!=this._content.parentElement&&!u&&NS.jQuery(this._content).css("display","").appendTo(this._originalParent),NS.jQuery(this._tooltipWrap).remove(),q=this._tooltipWrap=null)};this.isLoaderVisible=function(){return null!=this._loader};this.showLoader=function(l){this.hideLoader();this._loader=new NS.UI.Helpers.uir_loader(this._tooltipWrap,l)};this.hasTarget=function(l){var w=!1;b.each(function(){if(this==l)return w=
!0,!1});return w};this.hideLoader=function(){this._loader&&(this._loader.close(),this._loader=null)}}function uir_autoCloseTooltip(c,e,g){uir_tooltip.call(this,c,e,g);var m=this,n=this.close;g=g||{};var a=g.hasOwnProperty("onCloseHandler")?g.onCloseHandler:null;this.close=function(t){a&&a(t)||(document.removeEventListener("click",b,!0),n.call(this))};var b=function(t){m.isInsideTooltip(t)||m.close(!0)};document.addEventListener("click",b,!0)}
function uir_fieldTooltip(c,e,g){g=g||{};(g.hasOwnProperty("persistent")&&g.persistent?uir_tooltip:uir_autoCloseTooltip).call(this,c,e,g);e=NS.jQuery(this._tooltipWrap);var m=this._alignment<=NS.UI.Constants.TOOLTIP_ALIGN.TOP_RIGHT?-1:0;e.addClass("uir-field-tooltip-wrapper");g&&g.style&&e.addClass(g.style);e.css("top",parseInt(e.css("top"))+m);this.reattachField=function(){this.attachField(c)};this.attachField=function(a){a.originalAlias=a.classAlias;a.classAlias=a.className;NS.jQuery(a).addClass("uir-field-active");
NS.jQuery(a).parent().addClass("uir-field-parent-active")};this.detachField=function(a){a.classAlias=a.originalAlias;a.originalAlias=null;NS.jQuery(a).removeClass("uir-field-active");NS.jQuery(a).parent().removeClass("uir-field-parent-active")};this.attachField(c);var n=this.close;this.close=function(a){this.detachField(c);n.call(this,a)}};(function(c){function e(){null!=C&&C.close();null!=F&&F.reattachField()}function g(q){q=c(q);if(0===q.length)return q;const f=q.closest(".uir-select-input-container");return 0<f.length?f:q}function m(q){var f=null,k=q.children(".uir-field-widget"),l=k.length;0==l?(k=c('<span class="uir-field-widget"></span>'),k.appendTo(q),f=k):1==l?f=k.first():1<l&&(q=k.first(),k=k.slice(1),k.children().appendTo(q),k.remove(),f=q);return f}function n(q){var f=c(q).attr("id")+"_tooltipMenu",k=c(q).find("div#"+f).get(0);
null==k&&(k=c('<div id="'+f+'" class="uir_popupSelectTooltipMenu"></div>').appendTo(q).get(0));return k}function a(q,f){q=m(q);f.empty();f.addClass("uir-helper-button");f.addClass("field_widget");f.addClass("i_createnew");q.append(f)}function b(q,f){q=m(q);f.empty();f.addClass("uir-helper-button");f.addClass("field_widget");f.addClass("i_options");q.append(f)}function t(q){q=c(q);q.each(function(){var f=c(this);f.parent().find(".field_widget_helper_pos a[data-helperbuttontype]").each(function(){var k=
c(this);switch(k.attr("data-helperbuttontype")){case "new":a(f,k);break;case "open":b(f,k);break;default:m(f).append(k)}})})}function d(q){q=c(q);q.each(function(){var f=c(this);f.parent().find(".positionTop a[data-helperbuttontype]").each(function(){var k=c(this);switch(k.attr("data-helperbuttontype")){case "new":a(f,k);break;case "open":b(f,k);break;default:m(f).append(k)}})})}function h(q){q=c(q);q.each(function(){var f=c(this),k=f.attr("id");(k=c("#actionbuttons_"+k).get(0))&&c(k).find("a").each(function(){var l=
c(this);switch(l.attr("data-helperbuttontype")){case "list":var w=n(f);l.removeClass("uir-helper-button");c(w).append(l);l.click(e);break;case "search":w=n(f);l.removeClass("uir-helper-button");c(w).append(l);l.click(e);break;case "all":w=n(f);l.removeClass("uir-helper-button");c(w).append(l);l.click(e);break;case "new":a(f,l);break;case "open":b(f,l);break;default:m(f).append(l)}})})}function p(q){q=c(q);q.each(function(){var f=c(this);f.parent().find("a[data-helperbuttontype]").each(function(){var k=
c(this);m(f).append(k);""!=k.attr("data-helperbuttontype")&&k.text("")})})}function r(q){q=c(q);q.each(function(){var f=c(this),k=f.children(".uir-field-widget");0===k.length&&(k=f.children(".field_widget_helper_pos").children(".uir-field-widget"));0===k.length&&(k=f.children(".field_widget_boxpos").children(".uir-field-widget"));f.attr("data-helperbutton-count",k.children().length)})}var u=null,y=null,C=null,F=null,H=null;window.uir_showPopupSelectMenu=function(q){NLPopupSelect_close();if(null!=
C&&0<c(C.getTooltipDiv()).find(".uir_popupSelectTooltipMenu").length)C.close();else{var f=c(q),k=f.closest("[data-fieldtype=popupselect]");q=k.find(".uir_popupSelectTooltipMenu");f=f.parent().siblings("input[type=text]");k=0<k.closest("[id$=_layer]").length?NS.UI.Constants.TOOLTIP_ALIGN.BOTTOM_RIGHT:NS.UI.Constants.TOOLTIP_ALIGN.TOP_RIGHT;f.is(":disabled")||(H=f,f=g(f),C=new uir_fieldTooltip(f,q,{width:c(q).outerWidth()+5,alignment:k,onCloseHandler:function(){C=null}}))}};NS.UI.Refresh.transformListMachineSelects=
function(q){var f=q.find("[data-fieldtype=select]");q=q.find("[data-fieldtype=popupselect]");t(f);r(f);h(q);r(q)};NS.UI.ready(function(){function q(){var B=c(window.popupDIV);B.find("input#st").get(0).type="text";B.find("td").each(function(){const z=c(this);""===z.text()&&0===z.closest("#popup_select_list").length&&z.remove()})}function f(){var B=!1,z=window.popupDIV,D="T"==z.getAttribute("bListOnly"),G="T"==z.getAttribute("bIsMultiButton"),I="T"==z.getAttribute("bMultiselect");D=null!=z.getAttribute("displayField")?
NLPopupSelect_getDisplayField(z.getAttribute("displayField")):NLPopupSelect_getLaunchButton(z.getAttribute("launchbutton"),G,D);if(null!=z.getAttribute("machineName")){B=!0;try{for(var J=eval(z.getAttribute("machineName")+"_machine.tableobj;"),K=J.machine,M=G=0;M<K.countFormElements();M++){var L=K.getFormElement(M);if(null!=L&&(L.name==window.popupDIV.getAttribute("fieldName")||L.name==window.popupDIV.getAttribute("fieldName")+"_display")){D=L;break}"hidden"!=L.type&&null!=K.getFormElementLabel(M)&&
G++}c(D).is(":visible")||(D=J.rows[K.currentRowNum].cells[G])}catch(N){}}I=I?1:0;B&&(I|=2);1==I&&(D=c("#"+z.getAttribute("fieldname")+"_fs textarea").get(0));c(D).is(":visible")||(D=null);return{popup_container:z,popup_target:D,select_type:I}}t(c("*[data-fieldtype=select]"));d(c("*[data-fieldtype=multiselect]"));h(c("*[data-fieldtype=popupselect]"));p(c("*[data-fieldtype=popupselectmulti]"));NLPopupSelect_reposition=function(){};var k=NLPopupSelect_positionDIV;NLPopupSelect_positionDIV=function(){k.apply(this,
arguments);var B=f();if(null!=B.popup_container){q();null!=y&&y.close();null!=F&&NLPopupSelect_removeLoadingMessage();null!=u&&u.close();var z=g(B.popup_target),D=c(B.popup_container),G=NS.UI.Constants.TOOLTIP_ALIGN.TOP_LEFT,I=0,J=0;G=D.css("display");D.css("display","inline-block");I=D.innerWidth();J=D.innerHeight();D.css("display",G);0==B.select_type?G=NS.UI.Constants.TOOLTIP_ALIGN.TOP_RIGHT:(D=z.closest("table"),G=NS.UI.Constants.TOOLTIP_ALIGN.TOP_RIGHT,D=z.offset()&&D.offset()?z.offset().left-
D.offset().left:0,I-z.width()>D&&(G=NS.UI.Constants.TOOLTIP_ALIGN.TOP_LEFT));0<(B.select_type&2)&&(G|=NS.UI.Constants.TOOLTIP_ALIGN.BOTTOM_LEFT);z.offset()&&J+z.offset().top+z.height()>window.innerHeight&&0>z.offset().top-J&&(G=NS.UI.Constants.TOOLTIP_ALIGN.CENTER_SCREEN);z=uir_fieldTooltip;null==B.popup_target&&(z=uir_autoCloseTooltip,null!=H&&(B.popup_target=H));I=g(B.popup_target);y=new z(I,B.popup_container,{width:null,alignment:G,onCloseHandler:function(K){y=null;K&&NLPopupSelect_close()}});
c(y.getTooltipDiv()).keyup(function(K){K.keyCode==NS.UI.Constants.KeyCode.ESCAPE&&(NLPopupSelect_close(),null!=B.popup_target&&B.popup_target.focus())})}};var l=NLPopupSelect_displayLoadingDiv;NLPopupSelect_displayLoadingDiv=function(B,z,D){l.apply(this,arguments);var G=document.getElementById(B+"_display");null!=F&&F.close();null!=G?(G=g(G),F=new uir_fieldTooltip(G,window.popupDivLoadingMessage,{width:G.outerWidth(),alignment:NS.UI.Constants.TOOLTIP_ALIGN.TOP_RIGHT}),F.showLoader(64)):c("#popup_load_message").remove()};
var w=NLPopupSelect_removeLoadingMessage;NLPopupSelect_removeLoadingMessage=function(){null!=F&&(F.close(),F=null);w.apply(this,arguments)};var x=NLPopupSelect_open;NLPopupSelect_open=function(){x.apply(this,arguments);q()};var A=NLPopupSelect_close;NLPopupSelect_close=function(){null!=y&&y.close();A.apply(this,arguments)};var v=constructSuggestionBoxFromResponse;constructSuggestionBoxFromResponse=function(){v.apply(this,arguments);null!=y&&NLPopupSelect_close();const B=g(popupAutoSuggest.inputfield);
if(null!=u){if(u.hasTarget(B.get(0))){u.positionTooltip();return}u.close()}0<c("div.popupsuggest").length&&(u=new uir_fieldTooltip(B,"div.popupsuggest",{minWidth:B.outerWidth(),alignment:NS.UI.Constants.TOOLTIP_ALIGN.TOP_LEFT,doNotReparent:!0,onCloseHandler:function(z){u=null}}))};showAutoSuggestLoadingImage=function(){};var E=NLPopupAutoSuggest.prototype.hideSuggestionBox;NLPopupAutoSuggest.prototype.hideSuggestionBox=function(){E.apply(this,arguments);null!=u&&(u.close(),u=null)}});NS.UI.ready(function(){r(c("[data-fieldtype]"));
if(NS.Dashboard)c(document.documentElement).on("inserted-element",function(q){q=c(q.target);t(q.find("[data-fieldtype=select]"));h(q.find("[data-fieldtype=popupselect]"));r(q.find("[data-fieldtype]"));d(q.find("[data-fieldtype=multiselect]"));p(q.find("[data-fieldtype=popupselectmulti]"))})})})(NS.jQuery);NS.UI.Helpers.PaginationSelect=function(){class c{constructor(e){this._wrapper=e;this._prevTooltip=this._createTooltip(".navig-prev");this._nextTooltip=this._createTooltip(".navig-next");this._pages=this._getPages();this._menu=this._createMenu();this._selectedIndex=parseInt(e.dataset.selected);this._onPaginationChange(!1)}_createTooltip(e){e=this._wrapper.querySelector(e);return NS.UIF.createTooltip({target:e})}_getPages(){const e=this._wrapper.querySelector(".uir-pagination-select").querySelector("ul");
return Array.from(e.children).map((g,m)=>({action:()=>this.goToPage(m),label:g.dataset.paginationText,value:g.dataset.paginationValue}))}_getMenuItems(){return this._pages.map(({action:e,label:g},m)=>({action:e,label:g,highlighted:m===this._selectedIndex}))}_createMenu(){const e=this._getMenuItems(),g=this._wrapper.querySelector(".uir-pagination-select");return NS.UI.Helpers.Menu.createContextMenu({target:g,items:e,withScrollBars:!0})}_onPaginationChange(e){const g=this._wrapper;var m=this._selectedIndex;
const n=this._pages[this._selectedIndex],a=g.querySelector(".uir-pagination-label"),b=g.querySelector(".navig-prev"),t=g.querySelector(".navig-next"),d=0<m?this._pages[m-1].label:"";m=m+1<this._pages.length?this._pages[m+1].label:"";a.textContent=n.label;this._prevTooltip.setContent(`${b.getAttribute("aria-label")}: ${d}`);this._nextTooltip.setContent(`${t.getAttribute("aria-label")}: ${m}`);this._menu.setItems(this._getMenuItems());!1!==e&&(e=g.querySelector("input"),e.value=n.value,e.onchange())}goToPage(e){0<=
e&&e<this._pages.length&&(this._selectedIndex=e,this._wrapper.dataset.selected=e,this._onPaginationChange(!0))}previousPage(){this.goToPage(this._selectedIndex-1)}nextPage(){this.goToPage(this._selectedIndex+1)}}return{initialize:function(e){e=e.closest(".uir-pagination-select-wrapper");if(!e)return null;e._paginationSelect??(e._paginationSelect=new c(e));return e._paginationSelect},goToPage:function(e,g){this.initialize(e).goToPage(g)},previousPage:function(e){this.initialize(e).previousPage()},
nextPage:function(e){this.initialize(e).nextPage()}}}();NS.UI.Helpers.uir_dropdownHelper={onSpanBuilt:function(c){var e=c.numRows-(isIE?0:1);NS.jQuery(c.span).height(24*(e+1))}};
NS.jQuery(function(){var c=NLDropdown.prototype.open,e=NLDropdown.prototype.close;NLDropdown.prototype.open=function(){c.apply(this,arguments);if(!this.disabled){var g=this,m=NS.jQuery(this.div),n=NS.jQuery(this.inpt),a=m.find(".dropdownSelected");m.css({top:"",left:"",position:"static"});n.on("keydown",function(b){b.keyCode==NS.UI.Constants.KeyCode.ESCAPE&&null!=g.tooltip&&g.close()});this.tooltip=new uir_fieldTooltip(NS.UI.Util.isRedwood?this.inpt.parentNode:this.inpt,this.div,{persistent:!0,style:"uir-tooltip-dropdown"});
0<a.length&&(n=a.offset().top-m.offset().top,m.scrollTop(n))}};NLDropdown.prototype.close=function(){null!=this.tooltip&&(this.tooltip.close(),this.tooltip=null);e.apply(this,arguments)};NLDropdown.prototype.adjustDivForScrollbar=function(g,m,n){n<NS.UI.Helpers.scrollbarWidth()&&(g.style.width=(g.offsetWidth+NS.UI.Helpers.scrollbarWidth()).toString()+"px")}});nlPickColor=function(c,e,g,m){var n=new nlColorPicker;n.updateObjId=e;n.visualObjId=g;n.formObjId=m;c.setAttribute("data-opened","true");c.classList.contains("i_colorpicker")&&(c.classList.remove("i_colorpicker"),c.classList.add("i_colorpicker_focus"));new uir_autoCloseTooltip(c,n.getContent(),{alignment:NS.UI.Constants.TOOLTIP_ALIGN.TOP_RIGHT,onCloseHandler:function(){c.className=c.className.replace("_focus","");c.removeAttribute("data-opened")}})};
nlColorPicker.prototype.getContent=function(){var c=this.colors.length,e;var g='<table class="uir-colorpalette"><tr>';for(e=0;e<c;e++)0!==e&&0===e%6&&(g+="</tr><tr>"),g+='<td><div class="uir-colorpalette-color" style="background-color:'+this.colors[e]+'" onClick="pickColor(\''+this.colors[e]+"', '"+this.updateObjId+"', '"+this.visualObjId+"', '"+this.formObjId+"');\"></div></td>";return g+"</tr></table>"};NS.jQuery(document).ready(function(){hideCalendarDIV=function(){null!=newToolTip&&newToolTip.close()};NLCalender_popup=function(c,e,g,m){g=getTargetFieldJScript_inline(e,g,m,c);window.NLCalendar_onMouseUp=NLCalendar_onMouseUp;if(g){e=NLCalender_getCalendarDIV(!0);c.className+="_focus";c.setAttribute("data-opened","true");e.launchbutton=c;e.datefield=g;window.calendarDIV=e.outerdiv;e.outerdiv.launchbutton=c;if("mmyydate"==g.datefldtype){if(g=stringtodate(g.value),!g||isNaN(g))g=new Date}else g=parseDateOrTodayOnFail(g.value);
WriteCalendar(g,!0);window.calendarDIV.style.display="block";newToolTip=new uir_autoCloseTooltip(c,e.outerdiv,{alignment:NS.UI.Constants.TOOLTIP_ALIGN.TOP_RIGHT,doNotReparent:!0,onCloseHandler:function(){var n=window.calendarDIV;n&&(n.launchbutton.className=n.launchbutton.className.replace("_focus",""),n.launchbutton.removeAttribute("data-opened"),n.style.display="none",window.calendarDIV=null)}})}};getCalendarMouseoverScript=function(){return""}});NS.jQuery(document).ready(function(c){window.Machine&&(Machine.prototype.updateButtons=function(){var m=Machine.prototype.updateButtons;return function(){m.apply(this,arguments);for(var n=[this.name+"_copy",this.name+"_remove",this.name+"_insert",this.name+"_addchild"],a=0;a<n.length;a++){var b=document.getElementById(n[a]);if(b){b=b.disabled;var t=c("#"+n[a]).parent();b?t.addClass("uir-disabled"):t.removeClass("uir-disabled")}}}}(),Machine.prototype.getDisplayHeaderCell=function(){var m=Machine.prototype.getDisplayHeaderCell;
return function(n,a,b,t){m.call(this,n,a,b);b=c(a);var d=b.addClass;n=this.getFormElementType(n);var h="medium";t=t||"";switch(n){case "boolean":case "hradio":case "radio":case "checkbox":case "ccexpdate":case "ccvalidfrom":case "mmyydate":case "mmdddate":case "date":case "longdate":case "duration":case "quarter":case "week":case "year":case "month":case "datetime":case "period":case "timeofday":case "time":case "timetrack":case "color":case "datetimetz":case "tristate":h="small";break;case "text":case "textarea":if("memo"==
t||"description"==t){h="xx-large";break}else if(0==t.indexOf("custcol")){h="x-large";break}case "key_field":case "select":h="large";break;case "amount":case "currency":case "currency_without_symbol":case "currency2":case "decimal4":case "nonnegcurrency":case "pctcurrency":case "poscurrency":case "rate":case "ratehighprecision":case "dynamicprecision":h="x-large"}d.call(b,"uir-column-"+h);return a}}(),Machine.prototype.positionFieldsetDiv=function(){return function(m,n,a){var b=this;n=c(m);var t=function(){var d=
!0,h=b.form_elems[b.focusedColumn],p,r;for(r=0;r<b.form_elems.length;r+=1)if(h===b.miniform_elem_fieldsets[r]&&(p=b.idMap[r])&&0<c(p).find("input, textarea").filter(function(u){return!1===this.isvalid}).length){d=!1;break}return d};m.followChangeBlur=!1;n.on("change blur","input,textarea",function(){m.followChangeBlur=!0});this.fieldSetToolTip&&(this.fieldSetToolTip._content===NS.jQuery("#fieldset_options_div").get(0)&&this.fieldSetToolTip.close(),this.fieldSetToolTip=null);n={destination:b.miniform,
alignment:NS.UI.Constants.TOOLTIP_ALIGN.TOP_RIGHT,onCloseHandler:function(){var d=!1;if(b.fieldSetClosing)b.fieldSetToolTip=null,b.fieldSetClosing=!1;else if(d=m.followChangeBlur&&!t(),d||(c(m).find(document.activeElement).blur(),d=!t()),!d){var h=c(m).find('input[name="cancel"]');0===h.length&&(h=c(m).find('input[name="done"]'));h.click()}m.followChangeBlur=!1;return d}};Machine.prototype.editorAlignmentFunction&&(n.alignmentDefinitionFunction=Machine.prototype.editorAlignmentFunction);this.fieldSetToolTip=
new uir_autoCloseTooltip(a,m,n);this.fieldSetClosing=!1}}(),Machine.prototype.gotoField=function(){return function(m,n){var a=this.focusedColumn;n?this.focusedColumn=m:(this.focusedColumn=this.getFieldOffset(this.focusedColumn,m),a==this.focusedColumn&&a<this.countFormElements()&&"fieldset"==this.getFormElementType(a)&&(this.focusedColumn=this.getFieldOffset(-1,m)));if(a==this.focusedColumn)return!1;m=this.getInputElements(!0);for(n=0;n<m.length;n++){var b=(b=this.getFieldOverride(m,this.tableobj.getElementsByTagName("tr")[this.currentRowNum],
this.currentRowNum,n))?b[0]:m[n];if(!(null==b||this.getFormElementFieldSet(n)&&0<this.getFormElementFieldSet(n).length)&&b.parentNode!=this.miniform){if(!Mch_callAllOnBlur(this,b))return this.focusedColumn=a,!0;this.fieldSetToolTip&&c(b).closest(this.fieldSetToolTip._content).length&&(this.fieldSetClosing=!0,this.fieldSetToolTip.close());Machine_reparent(b,this.miniform)}}this.editRow(this.currentRowNum,!0);this.transferInputFieldValuesToDisplayOnly();return!0}}(),Machine.prototype.newRowHTML=function(){return function(){return"<div class='uir-new-row-content'><span class='uir-new-row-plus-img'></span><span>"+
(NS.Translations&&NS.Translations.dictionary["NLPagemessageContext.ADD_ROW"]||"Add Row")+"</span></div>"}}());if("function"==typeof OrderedListInitDragger){var e=OrderedListInitDragger;OrderedListInitDragger=function(m,n){e.call(this,m,n);NS.jQuery(m).parents("table").first().addClass("uir-draggable-table")};var g=OrderedListMarkRowNavigation;OrderedListMarkRowNavigation=function(m,n){g.call(this,m,n);for(var a=0;a<m.childNodes.length;a++)m.childNodes[a].style.borderTop="";var b=ordereddragger.trToBeMoved.rowIndex>=
m.rowIndex;a=b?NS.jQuery(m).prev():NS.jQuery(m);m=b?NS.jQuery(m):NS.jQuery(m).next();a.toggleClass("uir-machine-row-drag-guidance-down",n);m.toggleClass("uir-machine-row-drag-guidance-up",n)};OrderedListOnMouseUp=function(m){if(ordereddragger)return NS.jQuery(m.target).parents("table").first().removeClass("uir-draggable-table"),ordereddragger.putDownRow(),ordereddragger=null,!1}}});NS.UI.Helpers.Menu=function(){function c({target:a,items:b,delay:t=150,withScrollBars:d=!1}){let h=null,p;const r=()=>{null!==h&&(clearTimeout(h),h=null);NS.UIF.run(({Component:u})=>{const y=u.Menu.ScrollControl;p??=new u.ContextMenu({owner:a,menu:{items:b,scrollControl:d?y.BAR:y.BUTTON},on:{opened:()=>{a.classList.add("uir-menu-opened")},closed:()=>{a.classList.remove("uir-menu-opened")}}});p.open()})};a.addEventListener("pointerenter",u=>{"mouse"===u.pointerType&&(h??=setTimeout(r,t))});a.addEventListener("pointerleave",
u=>{"mouse"===u.pointerType&&null!==h&&(clearTimeout(h),h=null)});a.addEventListener("click",()=>{r()});return{setItems(u){p?p.menu.items=u:b=u},open:r}}function e(a){var b=a.querySelectorAll(".ns-menuitem");if(0===b.length)return null;a=new n;for(const t of b){b=t.querySelector("a");const d=t.querySelector("img"),h=b.getAttribute("href"),p=b.getAttribute("onclick");if(t.hasAttribute("data-group")){const r=t.getAttribute("data-group");a.group(0<r.length?r:void 0)}a.item({url:h&&"#"!==h&&!p?h:null,
action:p?new Function(p):null,label:b.textContent.trim(),icon:d?{url:d.src,width:20,height:20}:null,enabled:!b.hasAttribute("disabled")})}return a.build()}function g(a,b=e){void 0===a._menu&&(b=b(a),a._menu=b?c({target:a,items:b}):null);return a._menu}const m=/src='([\w\/.\-_]*)'/;class n{constructor(){this._items=[];this._groups=[{type:"group",items:this._items}]}group(a){this._items=[];this._groups.push({type:"group",items:this._items,label:a})}item(a){this._items.push(a)}build(){const a=this._groups.filter(b=>
0<b.items.length);return 1===a.length&&void 0===a[0].label?a[0].items:a}}return{createContextMenu:c,initializeMenu:g,initializeListNewMenu:function(a,b,t,d,h,p,r){return g(a,()=>{var u=window["options_"+d](b,t,d,h,p,r);const y=new n;for(const C of u.values)if("ddmSeperator"===C[0])y.group();else{u=new Function(C[1].slice(11));const F=C[3].match(m)?.[1];y.item({label:C[0],action:u,icon:F?{url:F,width:20,height:20}:null})}return y.build()})}}}();NS=NS||{};NS.UI=NS.UI||{};NS.UI.Control=NS.UI.Control||{};
NS.UI.Control.TabContainer={_tabContainers:{},get:function(c){return this._tabContainers[c]},create:function(c){if(null!=this.get(c))throw"Duplicit id";var e=new this.prototype(c);return this._tabContainers[c]=e},prototype:function(c){this.id=c;this._tabs=[];this._isIFrame=this._isAjax=!1;this._panel=this._content=this._container=null;var e=this;this._container=NS.jQuery("#"+c);this._content=this._container.children(".uir-tab-content").first();this._panel=this._container.children(".uir-tab-panel").first();
this.getContainer=function(){return this._container};this.getContent=function(){return this._content};this.getPanel=function(){return this._panel};this.onLinkMouseDown=function(g){if(e._isAjax||e._isIFrame)NS.UI.Helpers.preventDefault(g),g=NS.jQuery(g.target).closest(".uir-tab-item"),e.setSelectedTab(g.get(0))};this.addTab=function(g){g=NS.jQuery("#"+g);this._tabs.push(g.get(0));g.find("a").click(this.onLinkMouseDown)};this.setSelectedTab=function(g){g="object"==typeof g?g:this._tabs[tabIndex];for(var m=
0;m<this._tabs.length;m++)NS.jQuery(this._tabs[m]).toggleClass("uir-tab-item-selected",this._tabs[m]==g);g=NS.jQuery(g).find("a").prop("href");e._isAjax?(e.getContainer().addClass("uir-loading"),e.getContent().load(g,function(){e.getContainer().removeClass("uir-loading")})):e._isIFrame&&e.getContent().prop("src",g)};this.setAjaxLoader=function(g){this._isAjax=g};this.setIFrameLoader=function(g){this._isIFrame=g}}};NS.UI.List=function(c){function e(){var f=c(document),k=f.find(".uir-control-bar"),l=k.next(),w=l.find(".uir-filters"),x=w.children(".uir-filters-body"),A=l.find(".uir-list-top-button-bar"),v=A.children("tbody").children("tr"),E=A.find(".uir-list-buttonbar-left"),B=E.children("tbody").children("tr"),z=A.find(".uir-list-buttonbar-right"),D=z.children("tbody").children("tr"),G=f.find(".uir-top-footer-row").remove("script");0===w.length&&(w=t().prependTo(l),x=w.children(".uir-filters-body"));0===A.length&&
(A=g().appendTo(l).css("width","100%"),A.addClass("uir-list-top-button-bar"),v=A.find("tr"));0===E.length&&(E=g().addClass("uir-list-buttonbar-left"),B=E.find("tr"),v.prepend(E.wrap("<td></td>").parent()));0===z.length&&(z=g().addClass("uir-list-buttonbar-right"),D=z.find("tr"),v.append(z.wrap('<td align="right"></td>').parent()));l=l.find(".uir-segment-dropdown-placeholder");v=f.find(".uir-segment-dropdown-content");z=v.data("content");0!==l.length&&0!==v.length&&(v.remove(),l.replaceWith(z));const I=
H?"":"tbl_";var J=f.find("table#tbl_print,button#print").remove("script"),K=f.find("table#tbl_email,button#email").remove("script"),M=f.find("#multibuttonsubmit").remove("script"),L=f.find("#uir-show-inactives").remove("script");l=f.find("#uir-total-count").remove("script");v=f.find(".uir-pagination-select-wrapper").closest(".uir-field-wrapper").remove("script");z=f.find("[id^='quicksort'][id$='_fs']").closest(".uir-field-wrapper").remove("script");var N=f.find("[id^='searchid'][id$='_fs'],[id^='view'][id$='_fs']").closest(".uir-field-wrapper").remove("script"),
O=f.find("table#tbl_customize,button#customize").css("display","inline-block").remove("script"),P=f.find("table#tbl_new,button#new").css("display","inline-block").remove("script");f=f.find(".uir-list-buttonbar-right .uir-button").filter(`:not([id^=${I}export]):not([id^=${I}serialization])`).not(P).not(O).not(J).not(K).remove("script");L.children("span").after(L.children("label"));B.append(J.parent());B.append(K.parent());B.append(M.wrap("<td></td>").parent());B.append(m().wrap("<td></td>").parent());
B.append(L);if("undefined"!=typeof isExtremeListEditable&&isExtremeListEditable&&(B.append(m().wrap("<td></td>").parent()),B.append(r().wrap("<td></td>").parent()),"undefined"!=typeof isQuickAddButtonEnabled&&isQuickAddButtonEnabled&&0<c(".uir-quick-add-panel").length)){J=p(function(){Q.then(R=>R.open());return!1});const Q=h(J.get(0));f=f.add(c('<span class="uir-control-bar-item"/>').append(J))}D.append(z.wrap("<td></td>").parent());D.append(m().wrap("<td></td>").parent());D.append(v.wrap("<td></td>").parent());
D.append(l);k.append(d(N));k.append(d(O));k.append(m());k.append(d(P));k.append(m());k.append(f);x.append(G.find(".uir-field-wrapper"));x.append(E.find(".uir-field-wrapper"));0===x.children().length&&w.hide();(x=GetCookie("uir_list_filters_expanded"))&&"0"!=x||NS.UI.List.toggleFilters({target:w});a(B);a(D);n(k);0===A.find(":not(table,tbody,tr,td)").length&&A.attr("data-empty","true");(k=document.querySelector(".uir-list-title .uir-list-name"))&&k.setAttribute("title",k.textContent)}function g(){return c("<table><tbody><tr></tr></tbody></table>")}
function m(){return c('<span class="uir-control-bar-separator"><img src="/images/separator.png" alt=""></span>')}function n(f){var k=f.find(".uir-control-bar-item"),l=f.find(".uir-control-bar-separator");k.each(function(){c.trim(c(this).html())||c(this).detach()});l.each(function(){var w=c(this);(0==w.prev().length||0==w.next().length||c(w.next().get(0)).hasClass("uir-control-bar-separator"))&&w.detach()});0<f.children().filter(function(){return 0<NS.jQuery(this).text().length}).length||f.hide()}
function a(f){c(f).each(function(k,l){b(l)})}function b(f){f=c(f);f.find("td").each(function(k,l){k=c(l);k.contents().each(function v(x,A){x=c(A);x.contents().each(v);3==A.nodeType&&""==x.text().trim()&&x.remove()});""==k.html()&&k.remove()});f.children("td:visible").has(".uir-control-bar-separator").prev().has(".uir-control-bar-separator").remove();f.children("td:visible").first().has(".uir-control-bar-separator").remove();f.children("td:visible").last().has(".uir-control-bar-separator").remove()}
function t(){var f=NS.Translations.dictionary["NLFormlabelContext.FILTERS"]??"Filters",k=NS.Translations.dictionary["NLButtonContext.EXPANDCOLLAPSE_FILTERS"]??"Expand/Collapse filters",l=c("<div class='uir-filters' data-nsps-filter></div>");f=c("<div class='uir-filters-header'><span><span class='ns-icon ns-filters-onoff-button' tabindex='0' role='button' aria-expanded='true' aria-label='"+k+"' aria-controls='uir-filters-body'></span><span>"+f+"</span></span></div>");k=c('<div class="uir-filters-body" id="uir-filters-body"></div>');
f.on("click",NS.UI.List.toggleFilters);NS.UI.Helpers.Accessibility.doClickOnSpaceKey(f);l.append(f);l.append(k);return l}function d(f){var k=c("<span class='uir-control-bar-item'></span>").append(f);f.hasClass("uir-field-wrapper")&&!H&&k.css({position:"relative",top:"-10px"});return k}function h(f){return NS.UIF.run(async({})=>{const {ListQuickAdd:k}=await import("@nsn-ui/ui-apps-component");return k.create({owner:f})})}function p(f){var k=NS.Translations.dictionary["NLButtonContext.ADD"]??"Add";
H?(k=c(`<button type="button" class="uir-button" data-button-type="default" data-with-label="true">${k}</button>`),k.on("click",f)):(k=c(`<table border="0" cellspacing="0" cellpadding="0" class="uir-button"><tbody><tr class="pgBntG"><td class="bntBgB"><input type="button" value="${k}" class="rndbuttoninpt bntBgT"></td></tr></tbody></table>`),k.find("input").on("click",f));return k}function r(){var f=NS.Translations.dictionary["NLFormlabelContext.EDIT"]||"Edit",k=NS.Translations.dictionary["NLFormlabelContext.INLINE_EDITING"]||
"Inline Editing",l=c("<div class='uir-extreme-list-edit-field' data-nsps-label='"+f+"' data-nsps-type='field'></div>");f=c("<span class='label'></span>").text(f);k=c("<div id='extreme-list-edit-button' tabindex='0' role='button' aria-label='"+k+"'></div>");k.addClass(isExtremeEditToggledOn?"toggled-on":"toggled-off");k.attr("aria-pressed",isExtremeEditToggledOn);k.on("click",function(w){extremeListEditToggle()});NS.UI.Helpers.Accessibility.doClickOnSpaceKey(k);l.append(f).append(k);return l}function u(f,
k){k=c("<div class='uir-list-icon-button' role='button' tabindex='0'></div>").attr("data-button-code",f);k.click(function(){NLMultiButton_doAction("multibutton_export",f)});NS.UI.Helpers.Accessibility.doClickOnSpaceKey(k);var l="";switch(f){case "export":k.addClass("uir-list-export-csv");l=NS.Translations.dictionary["NLButtonContext.EXPORT__CSV"]||"Export - CSV";break;case "exportXLS":k.addClass("uir-list-export-xls");l=NS.Translations.dictionary["NLButtonContext.EXPORT__MICROSOFT_EXCEL"]||"Export - Microsoft\u00ae Excel";
break;case "exportPDF":k.addClass("uir-list-export-pdf");l=NS.Translations.dictionary["NLButtonContext.EXPORT__PDF"]||"Export - PDF";break;case "exportdoc":k.addClass("uir-list-export-doc");l=NS.Translations.dictionary["NLButtonContext.EXPORT__MICROSOFT_WORD"]||"Export - Microsoft\u00ae Word";break;case "exportTWBX":k.addClass("uir-list-export-twbx");l=NS.Translations.dictionary["NLButtonContext.EXPORT__TABLEAU_WORKBOOK"]||"Export - Tableau\u00ae Workbook";break;case "serialization":k.addClass("uir-list-export-serialize"),
l=NS.Translations.dictionary["NLButtonContext.SEARCH_SERIALIZATION"]||"Export - Serialization"}l=l.unescapeHTML();k.attr("title",l);k.attr("data-nsps-type","button");k.attr("data-nsps-label",l);k.attr("aria-label",l);k.addClass("uir-page-search__highlight-outline");return k}function y(){var f=c("table#tbl_print,button#print"),k=!0;0==f.length&&(f=c("#print-adv"),k=!1);if(0==f.length)return c();f.hide();f.closest("td").hide();var l=NS.Translations.dictionary["NLButtonContext.PRINT"]||"Print";l=c("<div class='uir-list-icon-button' role='button' tabindex='0'></div>").addClass("uir-list-print").attr("title",
l).attr("data-nsps-type","button").attr("data-nsps-label",l).attr("aria-label",l);NS.UI.Helpers.Accessibility.doClickOnSpaceKey(l);k?l.click(function(){window.print()}):l.click(new Function(f.attr("onclick")));return l}function C(){var f=c("#div__medialisthdr").find(".uir-rightpaneentryform-header").next(),k=c("#cabinet-list-navigation");k&&0!=k.length||(k=c("<span id='cabinet-list-navigation'>"),f&&f.length&&f.prepend(k));k.empty();c("#div__footer_content_segment").find(".uir-field-wrapper").each(function(){var w=
c(this);k.append(w)});var l=c("#uir-total-count");l&&0<l.length&&(f=l.text(),l.detach(),l=c("<span class='uir-totalcount'>"),l.text(f),k.append(l))}function F(){window.setUnsetHighlight=function(f,k){k=NS.jQuery(k);var l=0==f%2?"uir-list-row-even":"uir-list-row-odd";k.hasClass(l)||(0==f%2?k.removeClass("uir-list-row-odd"):k.removeClass("uir-list-row-even"),k.addClass(l))};window.resetXlistOptionsImage=function(f,k){$row=c("#"+f).closest(".uir-list-row-tr");k?$row.removeClass("uir-active"):$row.addClass("uir-active")}}
const H=NS.UI.Util.isRedwood;let q=null;return{automation:{layoutModified:!1},reskinEnabled:!0,fileCabinet:!1,initialize:function(){NS.UI.List.fileCabinet&&C();if("undefined"===typeof NS.Dashboard&&NS.UI.List.reskinEnabled){var f=c(document).find(".uir-control-bar").next(),k=f.find(".uir-list-top-button-bar"),l=k.children("tbody").children("tr"),w=k.find(".uir-list-buttonbar-left"),x=w.children("tbody").children("tr:first"),A=y();var v=c("table#tbl_email,button#email");0==v.length?v=c():(v.hide(),
v.closest("td").hide(),v=NS.Translations.dictionary["NLButtonContext.EMAIL"]||"Email",v=c("<div class='uir-list-icon-button' tabindex='0' role='button'></div>").addClass("uir-list-email").attr("title",v).attr("onclick",c("#email").attr("onclick")).attr("data-nsps-type","button").attr("data-nsps-label",v).attr("aria-label",v),NS.UI.Helpers.Accessibility.doClickOnSpaceKey(v));var E=c();var B=c("#spn_multibutton_export"),z=c("#child_multibutton_export"),D=c("#btn_multibutton_export");H||(B=B.closest("table"));
B.closest("td").hide();D.hide();z.hide();B.hide();if(B=getNLMultiButtonByName("multibutton_export"))for(B=B.pValues,z=0;z<B.length;z++)D=B[z],E=E.add(u(D[1],D[0]));0===k.length&&(k=g().appendTo(f).css("width","100%"),k.addClass("uir-list-top-button-bar"),l=k.find("tr"));0===w.length&&(w=g().addClass("uir-list-buttonbar-left"),x=w.find("tr"),l.prepend(w.wrap("<td></td>").parent()));x.append(E.wrap("<td></td>").parent());x.append(m().wrap("<td></td>").parent());x.append(A.wrap("<td></td>").parent());
x.append(v.wrap("<td></td>").parent());e();NS.UI.List.automation.layoutModified=!0}F();c("#uir-show-inactives").wrapInner('<div class="uir-show-inactives-wrapper"></div>');if(f=document.getElementById("div__footer"))f.style.visibility="visible"},toggleFilters:function(f){var k=null;k=f?NS.jQuery(f.target).closest(".uir-filters"):NS.jQuery(document).find(".uir-filters");NS.Dashboard||(k.toggleClass("collapsed"),k.hasClass("collapsed")?(k.find(".ns-filters-onoff-button").each(function(){NS.jQuery(this).attr("aria-expanded",
!1)}),NLCreateCookie("uir_list_filters_expanded","0")):(k.find(".ns-filters-onoff-button").each(function(){NS.jQuery(this).attr("aria-expanded",!0)}),NLCreateCookie("uir_list_filters_expanded","1")))},createInfoTooltip:function(f,k){q&&q.close();q=new uir_autoCloseTooltip(f,k,{alignment:NS.UI.Constants.TOOLTIP_ALIGN.BOTTOM_RIGHT,doNotReparent:!1})},modifyCabinetLayout:C,toggleMarkAll:function(f){f=f?"markall":"unmarkall";c(`input[type='button']#${f}, button#${f}`).click()}}}(NS.jQuery);NS.UI.Form=function(c){function e(){var a=c("#uir-quickfind-box"),b=c(".uir-page-title-firstline .page-title-menu-additional");if(0<a.length&&0<b.length){var t=c("#uir-quickfind-box"),d=c(b);0<t.length&&0<d.length&&(b=d.position().left,d=d.position().top+d.height(),NS.UI.Util.isRedwood&&(b+=24,d+=16),t.css({left:b,top:d}));a.toggle()}a.is(":visible")&&a.find("input[type=text]").val("").focus()}function g(){window.quickfind_anchor_click=e;c(".uir-quickfind-text").keydown(function(a){a.keyCode==NS.UI.Constants.KeyCode.ENTER&&
(c(".uir-quickfind-button").click(),NS.UI.Helpers.preventDefault(a))});c(document).keydown(function(a){c("#uir-quickfind-box").is(":visible")&&a.keyCode==NS.UI.Constants.KeyCode.ESCAPE&&(e(),NS.UI.Helpers.preventDefault(a))})}function m(){var a=c(".uir_form_tab_container_unlayered"),b=c(".unrollformtabbar");if(0<a.length&&0<b.length){b.hide();var t=b.find(".uir-tab-unroll-label").first(),d=b.find(".uir-unroll-expand-a").first(),h=b.find(".uir-unroll-collapse-a").first();b=b.find(".uir_tab_layout_button").first();
NS.UI.Util.isRedwood?(d=`<span class='uir-tab-unroll-links'>
					<a href='#' onclick='${d.attr("onclick")}' role='button'>${NS.Translations&&NS.Translations.dictionary["NLFormlabelContext.EXPAND_ALL"]||"Expand All"}</a>
					<a href='#' onclick='${h.attr("onclick")}' role='button'>${NS.Translations&&NS.Translations.dictionary["NLFormlabelContext.COLLAPSE_ALL"]||"Collapse All"}</a>
				</span>`,h=`<span class='uir-tab-layout-button' onclick='${b.attr("onclick")}' tabindex='0' role='button' aria-label='${NS.Translations&&NS.Translations.dictionary["NLPagemessageContext.UNROLLED_VIEW_OFF"]||"Unrolled view off"}'>
					<svg role="img" height="20" width="20">
				        <use href="/uiredwood/img/form/FormIcon.svg#ROLLTABS" />
				    </svg>
				</span>;`):(d="<span class='uir-tab-unroll-links'><a href='#' onclick='"+d.attr("onclick")+"' role='button'>"+(NS.Translations&&NS.Translations.dictionary["NLFormlabelContext.EXPAND_ALL"]||"Expand All")+"</a> | <a href='#' onclick='"+h.attr("onclick")+"' role='button'>"+(NS.Translations&&NS.Translations.dictionary["NLFormlabelContext.COLLAPSE_ALL"]||"Collapse All")+"</a></span>",h="<span class='uir-tab-layout-button' onclick='"+b.attr("onclick")+"' tabindex='0' role='button' aria-label='"+(NS.Translations&&
NS.Translations.dictionary["NLPagemessageContext.UNROLLED_VIEW_OFF"]||"Unrolled view off")+"'></span>");h=NS.jQuery(h);NS.UI.Helpers.Accessibility.doClickOnSpaceKey(h);NS.UI.Util.isRedwood||a.find(".uir-tab-unroll-label").prepend("<img class='uir-tab-new-arrow-img' src='/images/x.gif' alt=''>");a=a.find("div.unrollformtabheaderexpand, div.unrollformtabheadercollapse");a.append(d).append(h);a.attr("onclick",t.attr("onclick"));a.each(function(){var p=NS.jQuery(this);p.hasClass("unrollformtabheaderexpand");
p.on("focusin",function(){p.addClass("n-active")}).on("focusout",function(u){u.relatedTarget&&!p.has(u.relatedTarget).length&&p.removeClass("n-active")}).on("mouseleave",function(){p.removeClass("n-active")});p.find(".uir-tab-unroll-links a").each(function(){NS.UI.Helpers.Accessibility.doClickOnSpaceKey(this)});var r=p.find(".uir-tab-unroll-label");r.onclick=p.onclick;NS.UI.Helpers.Accessibility.doClickOnSpaceKey(r)})}NS.UI.Helpers.Accessibility.doClickOnSpaceKey(".uir-unroll-tabs-button a[role=button]");
c(".uir-tab-unroll-links > a, .uir-tab-layout-button").click(function(p){p.stopPropagation()})}function n(){c(document).ready(function(){c(".uir-machine-table-container").each(function(){NS.UI.MachineTools.create(this)})})}return{initialize:function(){c(".uir-machinebutton-separator").html("<span>&nbsp;</span>");c("#body").css("min-height",c(window).height()-c("#div__header").height());g();m();n()}}}(NS.jQuery);
function nlFieldHelp(c,e,g,m,n,a,b,t,d,h,p,r,u,y,C){e=getFlhUrl(e,m,n,a,b,t,d,h,p,r,u,y,C);nlExtOpenWindow(e,"fieldhelp",400,205,g,!1,c,{},g);return!1};NS=window.NS||{};NS.UI=NS.UI||{};
(function(){function c(t,d){let h=0;for(;t&&t!==d;)h+=t.offsetTop+t.clientTop,t=t.offsetParent;return h}function e(t){for(t=t.parentNode;t.parentNode;){if(/auto|scroll/.test(getComputedStyle(t).overflowY))return t;t=t.parentNode}return document.scrollingElement||document.documentElement}function g({scrollElement:t,scrollOffset:d,table:h,tableTopOffset:p}){const r=h.querySelector(".uir-machine-headerrow, .uir-list-headerrow"),u=Array.from(h.querySelectorAll(".uir-machine-row, .uir-nodata-row")).pop();t=
u?c(u,t):p+h.clientHeight;r&&(d>p&&d+r.clientHeight<t?r.style.top=d-p+"px":d<=p&&(r.style.top="0px"))}function m(t,d){const h=d.querySelector(".uir-machine-table, .uir-list-table"),p=t.scrollTop,r=c(h,t);return{scrollElement:t,scrollOffset:p,container:d,table:h,tableTopOffset:r}}class n{constructor(t){this._container=t.container;this._createScrollbar();this.onResize();this.onScroll(t);this._container.addEventListener("scroll",this._updateProxyScrollBar.bind(this))}onResize(){this._proxyScrollBarContent.style.width=
this._container.scrollWidth+"px"}onScroll({container:t,scrollElement:d,scrollOffset:h,table:p,tableTopOffset:r}){var u=Array.from(p.querySelectorAll(".uir-machine-row, .uir-nodata-row"));if(1<u.length){const y=d.clientHeight,C=!!this._proxyScrollBar.parentNode;u=u.shift();d=c(u,d)+u.clientHeight+18;d=r+p.clientHeight>h+y&&d<h+y;u=this._container.scrollWidth>this._container.clientWidth;!C||u&&d?u&&d&&(C||(t.appendChild(this._proxyScrollBar),this._updateProxyScrollBar()),this._proxyScrollBar.style.bottom=
r+p.clientHeight-h-y+"px"):this._proxyScrollBar.remove()}}_updateProxyScrollBar(){this._proxyScrollBar.scrollLeft=this._container.scrollLeft}_updateContainerScrollBar(){this._container.scrollLeft=this._proxyScrollBar.scrollLeft;this._proxyScrollBar.style.left=this._proxyScrollBar.scrollLeft+"px"}_createScrollbar(){this._proxyScrollBar=document.createElement("div");this._proxyScrollBar.style.cssText="\n\t\t\t    position: absolute;\n\t\t\t    width: 100%;\n\t\t\t    left: 0,\n\t\t\t    bottom: 0;\n\t\t\t    height: 18px;\n\t\t\t    z-index: 100000;\n\t\t\t    overflow-x: scroll;\n\t\t\t    overflow-y: hidden;\n\t\t\t";
this._proxyScrollBar.addEventListener("scroll",this._updateContainerScrollBar.bind(this));this._proxyScrollBarContent=document.createElement("div");this._proxyScrollBarContent.style.height="18px";this._proxyScrollBar.appendChild(this._proxyScrollBarContent)}}const a=new WeakMap,b=new ResizeObserver(function(t){requestAnimationFrame(()=>{t.forEach(d=>{a.get(d.target).onResize(d)})})});NS.UI.MachineTools={create(t){let d=!1;const h=e(t);var p=new n(m(h,t));a.set(t,p);b.observe(t);p=()=>{d||(requestAnimationFrame(()=>
{const r=m(h,t);g(r);a.get(r.container).onScroll(r);d=!1}),d=!0)};h.addEventListener("scroll",p);window.addEventListener("resize",p)}}})();function createTimeSelectorField(c,e,g,m,n){var a=NS.jQuery({});a.options=g;a.filters=m;a.filteredOptions=[];a.filteredFavourites=[];a.getFilters=function(){return a.filters};a.disabled=!1;a.isDisabled=function(){return a.disabled};a.setDisabled=function(d){a.disabled=d;a.trigger("disabledChanged")};a.getValue=function(){return b.valueField.val()};a.setValue=function(d,h){null==a.options[d]&&(d="CUSTOM");var p=a.getValue(),r=b.valueField;r.val(d);d=a.previousValue;a.previousValue=p;a.trigger("valueChanged");
"undefined"!==typeof h&&!h||0!=r.get(0).onchange()||(r.val(p),a.previousValue=d)};a.getTextForValue=function(d){return"CUSTOM"==d?n.labelCustom:(d=a.options[d])?d.text:n.labelCustom};a.getText=function(){return a.getTextForValue(a.getValue())};a.wasRelativeSelector=function(){return"RELATIVE"==a.previousValue};a.useWordBoundaries=function(){if("undefined"!==typeof a._useWordBoundaries)return a._useWordBoundaries;a._useWordBoundaries=!0;var d=0;NS.jQuery.each(a.options,function(h,p){a._useWordBoundaries=
p.text?-1!=p.text.search("(?:^|\\s|$)"+p.text.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"(?:^|\\s|$)")&&-1==p.text.search(/[\u4E00-\u9FFF]/):!1;if(!a._useWordBoundaries||20<d)return!1;d++});return a._useWordBoundaries};a.getFilterText=function(){return a.filterText};a.setFilterText=function(d){a.filterText=d;a.trigger("filterTextChanged")};a.filterText="";a.filterTextRegexps=[];a.filterTextFirstsRegexp=null;a.putOption=function(d,h,p){p||=!1;a.options[d]={value:d,text:h,favourite:p};a.trigger("optionsChanged")};
a.removeOption=function(d){delete a.options[d];a.trigger("optionsChanged")};a.addFavourite=function(d){a.options[d].favourite=!0;NS.jQuery.post(n.selectorServiceURL,{action:"addFavourite",key:d,type:n.selectorType});a.trigger("optionsChanged")};a.removeFavourite=function(d){a.options[d].favourite=!1;NS.jQuery.post(n.selectorServiceURL,{action:"removeFavourite",key:d,type:n.selectorType});a.trigger("optionsChanged")};a.resetTypeFilters=function(){var d=a.getFilters(),h;for(h in d)d.hasOwnProperty(h)&&
(d[h].selected=!1);a.trigger("typeFiltersChanged")};a.toggleTypeFilter=function(d){a.getFilters()[d].selected=!a.getFilters()[d].selected;a.trigger("typeFiltersChanged")};a.optionComparator=function(d,h){if(!d.value&&h.value)return-1;if(!h.value&&d.value)return 1;if(!d.value&&!h.value)return 0;var p=-1!=NS.jQuery.inArray(d.value,["CUSTOM","ALL","RELATIVE"]),r=-1!=NS.jQuery.inArray(h.value,["CUSTOM","ALL","RELATIVE"]);return p&&!r?-1:!p&&r?1:d.text<h.text?-1:d.text==h.text?d.value<h.value?-1:1:1};
a.prepareFilterRegexes=function(){a.useWordBoundaries()?a.prepareFilterRegexesNormal():a.prepareFilterRegexesNoWords()};a.prepareFilterRegexesNormal=function(){var d=null!=a.getFilterText()?a.getFilterText().replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"):"";a.filterTextRegexps=[];""!==d&&(a.filterTextRegexps=NS.jQuery.map(d.split(" "),function(p){return p?new RegExp("((?:^|\\s|$)"+p+")()","ig"):null}));if(/^\S{2,6}$/.test(d)){var h="";NS.jQuery.each(d.split(""),function(p,r){h+="((?:^|\\s|$)"+r+")(.*)"});
a.filterTextFirstsRegexp=new RegExp(h,"ig")}else a.filterTextFirstsRegexp=null};a.prepareFilterRegexesNoWords=function(){var d=null!=a.getFilterText()?a.getFilterText().replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"):"";a.filterTextRegexps=[];""!==d&&(a.filterTextRegexps=NS.jQuery.map(d.split(" "),function(h){return h?new RegExp("("+h+")()","ig"):null}));a.filterTextFirstsRegexp=null};a.getSortedOptionsWithoutDuplicates=function(){var d=NS.jQuery.map(a.options,function(u){return u});d.sort(a.optionComparator);
var h=[],p=null,r=a.getValue();NS.jQuery.each(d,function(u,y){null==p||y.text!=p.text?(h.push(y),p=y):y.value==r&&(h[h.length-1]=y)});return h};a.filterOptions=function(){a.filteredOptions=[];a.filteredFavourites=[];var d=a.getSortedOptionsWithoutDuplicates();a.prepareFilterRegexes();var h=[];NS.jQuery.each(d,function(p,r){var u=!0;NS.jQuery.each(a.getFilters(),function(y,C){if(C.selected&&0===(C.code&r.tagsCode))return u=!1});u&&h.push(r)});NS.jQuery.grep(h,function(p){var r=!1;null!=a.filterTextFirstsRegexp&&
(r=-1!=p.text.search(a.filterTextFirstsRegexp));r||(r=!0,NS.jQuery.each(a.filterTextRegexps,function(u,y){return-1==p.text.search(y)?r=!1:!0}));r&&(p.favourite?a.filteredFavourites.push(p):a.filteredOptions.push(p))})};var b={format:function(d,h){return d.replace(/\{\{|\}\}|\{(\w+)\}/g,function(p,r){return"{{"==p?"{":"}}"==p?"}":h[r]})},render:function(d,h){return b.format(d,h)}};b.rootElem=NS.jQuery("#"+c);b.popupElem=b.rootElem.find(".selector-popup");b.filterField=b.rootElem.find(".selector-filter-input");
b.valueField=b.rootElem.find("[name="+e+"]");b.allOptionsElem=b.rootElem.find(".selector-options");b.favouritesElem=b.rootElem.find(".selector-favourites");b.optionsElem=b.rootElem.find(".selector-all");b.typeFiltersElem=b.rootElem.find(".selector-filters");b.suppressMouseOver=!1;b.rootElem.data("controller",a);b.rootElem.prop("controller",a);b.renderValue=function(){b.filterField.val(a.getText())};b.renderOptions=function(){b.favouritesElem.empty();b.optionsElem.empty();a.filterOptions();var d=[];
NS.jQuery.merge(d,NS.jQuery.map(a.filterTextRegexps,function(y){return y.source}));null!=a.filterTextFirstsRegexp&&d.push(a.filterTextFirstsRegexp.source);var h=0===d.length?null:new RegExp(d.join("|"),"ig"),p=function(y){y=NS.jQuery.extend({},y);y.highlightedText=h&&y.text?y.text.replace(h,function(){for(var C="",F=1;F<arguments.length-2;F++){var H=arguments[F];"undefined"!=typeof H&&(C=1==F%2?C+("<b>"+H+"</b>"):C+H)}return C}):y.text;return y};NS.jQuery.each(a.filteredOptions,function(y,C){b.optionsElem.append(b.render('<div class="selector-item" data-value="{value}" title="{text}"><span class="selector-star">&nbsp;</span>{highlightedText}</div>',
p(C)))});NS.jQuery.each(a.filteredFavourites,function(y,C){b.favouritesElem.append(b.render('<div class="selector-item" data-value="{value}" title="{text}"><span class="selector-star">&nbsp;</span>{highlightedText}</div>',p(C)))});var r=0===b.favouritesElem.children().length;b.rootElem.find(".selector-favourites-container").toggleClass("selector-folder-disabled",r);r&&b.toggleFold(b.rootElem.find(".selector-all-container"),!1);0<d.length&&(b.toggleFold(b.rootElem.find(".selector-all-container"),!1),
b.toggleFold(b.rootElem.find(".selector-favourites-container"),!1));var u=a.getValue();b.rootElem.find(".selector-item").filter(function(y,C){return NS.jQuery(C).data()==u}).addClass("selector-selected")};b.renderTypeFilters=function(){b.typeFiltersElem.empty();var d,h,p=function(){d=NS.jQuery(document.createElement("tr"));b.typeFiltersElem.append(d);h=3};p();NS.jQuery.each(a.filters,function(r,u){0===h&&p();d.append(b.render('<td class="selector-filter-button" data-filter="{value}"><span>{text}<span></td>',
u));r=d.children().last();u=r.children().width();u=u>2*r.width()?3:u>r.width()?2:1;if(h<u){var y=d,C=h;p();r.detach();for(r.appendTo(d);0<C;C--)y.append(document.createElement("td"))}h-=u;r.attr("colspan",u);a.getFilters()[r.data("filter")].selected?r.addClass("checked"):r.removeClass("checked")})};b.openPopup=function(){var d=NS.jQuery(window);0<b.rootElem.closest("#fieldset_options_div").length&&b.rootElem.closest(".uir-tooltip-content").css("overflow","visible");b.filterField.parent().css("z-index",
"1001");b.popupElem.find(".selector-input-spacer").remove();b.popupElem.removeClass("above below below-fixed");b.popupElem.find(".selector-popup-fixedposition").css({position:"",top:"",bottom:""});d.off("."+e);var h=b.rootElem.parents().filter(function(u,y){return"visible"!=NS.jQuery(y).css("overflow")||"BODY"==y.tagName}).first(),p=b.filterField.offset().top-h.offset().top;h=h.offset().top+h.height()-45-b.filterField.offset().top;if(270>p&&270>h&&0===b.rootElem.closest("#outerwrapper").length){var r=
function(){var u=b.filterField.offset().top;return{top:u-d.scrollTop(),bottom:d.height()-u+d.scrollTop(),left:b.filterField.offset().left-d.scrollLeft()}};p=r();270>p.bottom?(b.popupElem.addClass("above"),b.popupElem.prepend('<div class="selector-input-spacer bottom"></div>'),h=function(){var u=r();b.popupElem.find(".selector-popup-fixedposition").css({position:"fixed",bottom:u.bottom+3+"px",left:u.left-5+"px"})},b.allOptionsElem.height(Math.max(p.top-110,150))):(b.popupElem.addClass("below"),b.popupElem.prepend('<div class="selector-input-spacer top"></div>'),
h=function(){var u=r();b.popupElem.find(".selector-popup-fixedposition").css({position:"fixed",top:u.top+28+"px",left:u.left-5+"px"})},b.allOptionsElem.height(Math.max(p.bottom-140,150)));h();d.on("scroll."+e,h);d.on("resize."+e,h)}else 270>p||p<h?(b.popupElem.addClass("below"),b.popupElem.prepend('<div class="selector-input-spacer top"></div>'),b.allOptionsElem.height(Math.max(h-95,150))):(b.popupElem.addClass("above"),b.popupElem.append('<div class="selector-input-spacer bottom"></div>'),b.allOptionsElem.height(Math.max(p-
95,150)));b.popupElem.find(".selector-input-spacer").width(b.filterField.outerWidth()+8);b.rootElem.find(".i_dropdownarrow").hide();b.renderOptions();b.filterField.val("");a.setFilterText("");b.popupElem.show();b.renderTypeFilters()};b.closePopup=function(){NS.jQuery(window).off("."+e);b.filterField.parent().css("z-index","auto");b.popupElem.hide();b.rootElem.find(".i_dropdownarrow").show();a.setFilterText("");b.renderValue();a.resetTypeFilters()};b.isPopupOpen=function(){return"none"!=b.popupElem.css("display")};
b.toggleFold=function(d,h){var p=null==h?null:!h;d.toggleClass("selector-folder-closed",h);d.toggleClass("selector-folder-open",p)};b.isFolderDisabled=function(d){return d.hasClass("selector-folder-disabled")};a.on("optionsChanged",function(){b.renderOptions();!a.options[a.getValue()]&&a.filteredOptions&&0<a.filteredOptions.length&&a.setValue(a.filteredOptions[0].value)});a.on("valueChanged",function(){b.renderValue()});a.on("typeFiltersChanged",function(){b.renderTypeFilters();b.renderOptions()});
a.on("filterTextChanged",function(){b.renderOptions()});a.on("disabledChanged",function(){var d=a.isDisabled();b.filterField.prop("disabled",d);d?(b.filterField.closest(".uir-field").addClass("effectDisabled"),b.closePopup()):b.filterField.closest(".uir-field").removeClass("effectDisabled")});b.rootElem.find(".nldropdown").on("click",function(){b.isPopupOpen()||a.isDisabled()||b.openPopup()});b.filterField.on("focus",function(){b.isPopupOpen()||a.isDisabled()||b.openPopup()});var t;b.filterField.on("keyup",
function(d){t&&clearTimeout(t);-1==[13,27,38,40].indexOf(d.which)&&(t=setTimeout(function(){a.setFilterText(b.filterField.val())},200))});b.allOptionsElem.find(".selector-favourites-container h3").on("click",function(){var d=b.favouritesElem.parent();b.isFolderDisabled(d)||b.toggleFold(d)});b.allOptionsElem.find(".selector-all-container h3").on("click",function(){var d=b.optionsElem.parent();b.isFolderDisabled(d)||b.toggleFold(d)});b.rootElem.on("click",".selector-item",function(){a.setValue(NS.jQuery(this).data("value"));
b.closePopup();b.filterField.blur();return!1});b.rootElem.on("click",".selector-all .selector-star",function(){var d=NS.jQuery(this).closest("[data-value]").data("value");a.addFavourite(d);return!1});b.rootElem.on("click",".selector-favourites .selector-star",function(){var d=NS.jQuery(this).closest("[data-value]").data("value");a.removeFavourite(d);return!1});b.rootElem.find(".selector-filters").on("click","td",function(){a.toggleTypeFilter(NS.jQuery(this).data("filter"))});NS.jQuery(document).on("mouseup",
function(d){b.isPopupOpen()&&(b.popupElem.is(d.target)||0!==b.popupElem.has(d.target).length||b.filterField.is(d.target)||0!==b.filterField.has(d.target).length||b.closePopup())});b.filterField.on("keypress",function(d){if(b.isPopupOpen()&&27==d.which)b.filterField.blur(),b.closePopup();else if(13==d.which){var h=b.allOptionsElem.find(".selector-selected");0<h.length&&(b.closePopup(),b.filterField.blur(),a.setValue(h.data("value")));d.preventDefault();return!1}return!0});b.filterField.on("keydown",
function(d){if(38==d.which||40==d.which){d.preventDefault();var h=b.allOptionsElem.find(".selector-selected"),p=b.allOptionsElem.find(".selector-item").filter(":visible"),r;0===h.length?38==d.which?r=p.last():40==d.which&&(r=p.first()):38==d.which?(r=h.prev(),0===r.length&&h.parent().is(b.optionsElem)&&(r=b.favouritesElem.find(".selector-item:last"))):40==d.which&&(r=h.next(),0===r.length&&h.parent().is(b.favouritesElem)&&(r=b.optionsElem.find(".selector-item:first")));if(0!==r.length){b.toggleFold(r.parent().parent(),
!1);d=b.allOptionsElem.position().top;h=b.allOptionsElem.outerHeight(!0);p=b.allOptionsElem.scrollTop();var u=r.position().top,y=r.outerHeight(!0);0>u-d?(b.suppressMouseOver=!0,b.allOptionsElem.scrollTop(p+u-d)):0<u+y-d-h&&(b.suppressMouseOver=!0,b.allOptionsElem.scrollTop(p+u+y-d-h));b.allOptionsElem.find(".selector-selected").removeClass("selector-selected");r.addClass("selector-selected")}}});b.popupElem.on("mouseover",".selector-item",function(d){b.suppressMouseOver?b.suppressMouseOver=!1:(d=
NS.jQuery(d.target).closest(".selector-item"),b.popupElem.find(".selector-selected").removeClass("selector-selected"),d.addClass("selector-selected"))});a.setValue(a.getValue(),!1);a.setDisabled(n.disabled)};NS.ChartPortletSetup=function(c,e,g){function m(n,a){showFieldAndLabel(n+"_fs",a);showFieldAndLabel(n+"_remove_button_fs",a);showFieldAndLabel(n.replace("TRENDGRAPH_KPI","TRENDGRAPH_COLOR")+"_fs",a);a||showFieldAndLabel(n.replace("TRENDGRAPH_KPI","TRENDGRAPH_SEARCHKEY")+"_fs",a);showField(n.replace("TRENDGRAPH_KPI","TRENDGRAPH_COLOR")+"_fs",a);showField(n.replace("TRENDGRAPH_KPI","TRENDGRAPH_COLOR")+"_i",a)}return{moveRemoveKPIButtons:function(n,a){var b=e("#"+n+"_fs"),t=b.closest("div.uir-field-wrapper");
b=b.closest("tr");a=e("#"+a+"_fs").closest(NS.UI.Util.isRedwood?".uir-field":"div.uir-field-wrapper");e(t.html()).appendTo(a).find("span#"+n+"_fs").addClass("optional-remove-kpi-button-layout-class");b.remove()},removeKPIInput:function(n){e("input[id*='"+n+"']").val([]);e("input[id*='"+n.replace("TRENDGRAPH_KPI","TRENDGRAPH_COLOR")+"']").val([]);m(n,!1);showFieldAndLabel("addKPIButton_fs",!0)},addKPIInput:function(n){for(var a=0;a<n.length;a++)if("none"==e("#"+n[a]+"_fs").css("display")){m(n[a],!0);
a:{for(a=0;a<n.length;a++)if("none"==e("#"+n[a]+"_fs").css("display")){showFieldAndLabel("addKPIButton_fs",!0);break a}showFieldAndLabel("addKPIButton_fs",!1)}break}}}}(this,NS.jQuery);
//# sourceMappingURL=/assets/reskin_core/527312719.map